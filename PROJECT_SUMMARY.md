# üöó Car Condition Analyzer - –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 1. **–°–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è YOLO v8 –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–µ–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –æ–±–ª–∞—Å—Ç–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–ª–∏—á–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è –ø–µ—Ä–µ–¥ –∞–Ω–∞–ª–∏–∑–æ–º

### 2. **–¢—Ä–∏ –º–æ–¥–µ–ª–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
- ‚úÖ **–ú–æ–¥–µ–ª—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π**: –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∏—Ç—ã–π/–Ω–µ –±–∏—Ç—ã–π (0/1)
- ‚úÖ **–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–π**: –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥—Ä—è–∑–Ω—ã–π/—á–∏—Å—Ç—ã–π (0/1)  
- ‚úÖ **–ú–æ–¥–µ–ª—å —Ü–∞—Ä–∞–ø–∏–Ω**: –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ—Å—Ç—å —Ü–∞—Ä–∞–ø–∏–Ω—ã/–Ω–µ—Ç —Ü–∞—Ä–∞–ø–∏–Ω (0/1)

### 3. **FastAPI –≤–µ–±-—Å–µ—Ä–≤–∏—Å**
- ‚úÖ REST API —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ `/analyze` –∏ `/analyze-detailed`
- ‚úÖ JSON –æ—Ç–≤–µ—Ç—ã –≤ —Ç—Ä–µ–±—É–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger UI
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### 4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JPEG, PNG —Ñ–æ—Ä–º–∞—Ç–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (–º–∞–∫—Å 10MB)
- ‚úÖ –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è ML –º–æ–¥–µ–ª–µ–π
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (`test_web_interface.html`)
- ‚úÖ Drag & Drop –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ API

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
inDrive/
‚îú‚îÄ‚îÄ main.py                    # üöÄ FastAPI —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ model.py                   # üß† ML –º–æ–¥–µ–ª–∏ (ResNet18-based)
‚îú‚îÄ‚îÄ utils.py                   # üõ†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îú‚îÄ‚îÄ test_api.py                # üß™ –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã API
‚îú‚îÄ‚îÄ start_server.sh            # üéØ –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ test_web_interface.html    # üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ requirements.txt           # üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md                 # üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ PROJECT_SUMMARY.md        # üìã –≠—Ç–∞ —Å–≤–æ–¥–∫–∞
‚îú‚îÄ‚îÄ models/                   # üéØ –û–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ damage_classifier.pth
‚îÇ   ‚îú‚îÄ‚îÄ dirt_classifier.pth
‚îÇ   ‚îî‚îÄ‚îÄ scratch_classifier.pth
‚îú‚îÄ‚îÄ data/                     # üìä –î–∞—Ç–∞—Å–µ—Ç —Ü–∞—Ä–∞–ø–∏–Ω
‚îú‚îÄ‚îÄ data1/                    # üìä –î–∞—Ç–∞—Å–µ—Ç —Ä–∂–∞–≤—á–∏–Ω—ã/—Ü–∞—Ä–∞–ø–∏–Ω  
‚îî‚îÄ‚îÄ data2/                    # üìä –î–∞—Ç–∞—Å–µ—Ç –≤–º—è—Ç–∏–Ω/–≥—Ä—è–∑–∏
```

## üîó API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------|----------|
| `/` | GET | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ API |
| `/health` | GET | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã |
| `/analyze` | POST | –ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `/analyze-detailed` | POST | –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ |
| `/models/status` | GET | –°—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π |
| `/docs` | GET | Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

## üìä –§–æ—Ä–º–∞—Ç JSON –æ—Ç–≤–µ—Ç–∞

### –ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ (`/analyze`):
```json
{
  "–±–∏—Ç—ã–π": 0,
  "–≥—Ä—è–∑–Ω—ã–π": 1, 
  "—Ü–∞—Ä–∞–ø–∏–Ω—ã": 0,
  "detailed_analysis": {
    "damage": {
      "status": "–Ω–µ –±–∏—Ç—ã–π",
      "confidence": 0.892,
      "probabilities": {"–Ω–µ –±–∏—Ç—ã–π": 0.892, "–±–∏—Ç—ã–π": 0.108}
    },
    "dirt": {
      "status": "–≥—Ä—è–∑–Ω—ã–π", 
      "confidence": 0.756,
      "probabilities": {"—á–∏—Å—Ç—ã–π": 0.244, "–≥—Ä—è–∑–Ω—ã–π": 0.756}
    },
    "scratch": {
      "status": "–Ω–µ—Ç —Ü–∞—Ä–∞–ø–∏–Ω",
      "confidence": 0.943, 
      "probabilities": {"–Ω–µ—Ç —Ü–∞—Ä–∞–ø–∏–Ω": 0.943, "–µ—Å—Ç—å —Ü–∞—Ä–∞–ø–∏–Ω—ã": 0.057}
    }
  },
  "overall_condition": "—Ö–æ—Ä–æ—à–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∑–∞–≥—Ä—è–∑–Ω–µ–Ω)",
  "car_detected": true,
  "analysis_successful": true,
  "message": "–ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ"
}
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±
./start_server.sh

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±  
uvicorn main:app --host 0.0.0.0 --port 8001
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã
python test_api.py

# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
# –û—Ç–∫—Ä–æ–π—Ç–µ test_web_interface.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API
```bash
# –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ curl
curl -X POST "http://localhost:8001/analyze" \
     -H "Content-Type: multipart/form-data" \
     -F "file=@car_image.jpg"
```

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –î–µ—Ç–µ–∫—Ü–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- –ï—Å–ª–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω ‚Üí –≤–æ–∑–≤—Ä–∞—Ç `{"–±–∏—Ç—ã–π": 0, "–≥—Ä—è–∑–Ω—ã–π": 0, "—Ü–∞—Ä–∞–ø–∏–Ω—ã": 0}`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–µ–∑–∫–∞ –ø–æ bounding box –∞–≤—Ç–æ–º–æ–±–∏–ª—è
- –ü–æ–≤—ã—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑–∞ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–æ–π –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ

### –ú–æ–¥–µ–ª–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è  
- –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: ResNet18
- –ü—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã–µ –≤–µ—Å–∞ ImageNet + –¥–æ–æ–±—É—á–µ–Ω–∏–µ
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GPU (CUDA) –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π  
- Graceful handling –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥–µ–ª–µ–π
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞**: 1-3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤**: JPEG, PNG
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä**: 10 MB
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ**: –¥–æ 4096x4096 –ø–∏–∫—Å–µ–ª–µ–π
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**: ~1-2 GB –¥–ª—è –º–æ–¥–µ–ª–µ–π

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: FastAPI + Uvicorn
- **ML Framework**: PyTorch + torchvision
- **Computer Vision**: OpenCV + PIL
- **Object Detection**: YOLO v8 (Ultralytics)  
- **Frontend**: HTML5 + JavaScript (–Ω–∞—Ç–∏–≤–Ω—ã–π)
- **Environment**: Python 3.11 + venv

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –ø–∞–º—è—Ç–∏ (–±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –¥–∏—Å–∫)
- Sanitization –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

- Drag & Drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  
- Responsive –¥–∏–∑–∞–π–Ω
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ `./start_server.sh`
2. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ `test_web_interface.html` 
3. ‚úÖ –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
4. ‚úÖ –ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON

**–ê–¥—Ä–µ—Å–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- API: http://localhost:8001
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8001/docs  
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: test_web_interface.html

---

*–°–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!* üéâ